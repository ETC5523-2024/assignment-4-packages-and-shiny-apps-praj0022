<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>copingmethods  • copingmethods</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="copingmethods ">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">copingmethods</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/copingmethods.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>copingmethods </h1>
            
      

      <div class="d-none name"><code>copingmethods.Rmd</code></div>
    </div>

    
    
<p>Analyzing Global Mental Health Trends with the copingmethods
Package</p>
<p>The copingmethods package provides tools to explore mental health
data focusing on depression rates across different age groups and coping
mechanisms used in various countries. This vignette will walk you
through the included datasets, explain the purpose of the app, and
demonstrate how to use the launch_copingmethods() function to
interactively explore the data.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To get started, make sure the package is installed and loaded in your
R environment:</p>
<div class="section level4">
<h4 id="install-the-package-if-its-not-already-installed">Install the package if it’s not already installed<a class="anchor" aria-label="anchor" href="#install-the-package-if-its-not-already-installed"></a>
</h4>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ETC5523-2024/assignment-4-packages-and-shiny-apps-praj0022"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Using github PAT from envvar GITHUB_PAT. Use `gitcreds::gitcreds_set()` and unset GITHUB_PAT in .Renviron (or elsewhere) if you want to use the more secure git credential store instead.</span></span>
<span><span class="co">#&gt; Downloading GitHub repo ETC5523-2024/assignment-4-packages-and-shiny-apps-praj0022@HEAD</span></span>
<span><span class="co">#&gt; fs         (1.6.4  -&gt; 1.6.5   ) [CRAN]</span></span>
<span><span class="co">#&gt; digest     (0.6.35 -&gt; 0.6.37  ) [CRAN]</span></span>
<span><span class="co">#&gt; Rcpp       (1.0.12 -&gt; 1.0.13-1) [CRAN]</span></span>
<span><span class="co">#&gt; tinytex    (0.51   -&gt; 0.54    ) [CRAN]</span></span>
<span><span class="co">#&gt; xfun       (0.44   -&gt; 0.49    ) [CRAN]</span></span>
<span><span class="co">#&gt; highr      (0.10   -&gt; 0.11    ) [CRAN]</span></span>
<span><span class="co">#&gt; evaluate   (0.23   -&gt; 1.0.1   ) [CRAN]</span></span>
<span><span class="co">#&gt; rmarkdown  (2.28   -&gt; 2.29    ) [CRAN]</span></span>
<span><span class="co">#&gt; knitr      (1.46   -&gt; 1.49    ) [CRAN]</span></span>
<span><span class="co">#&gt; sys        (3.4.2  -&gt; 3.4.3   ) [CRAN]</span></span>
<span><span class="co">#&gt; askpass    (1.2.0  -&gt; 1.2.1   ) [CRAN]</span></span>
<span><span class="co">#&gt; curl       (5.2.3  -&gt; 6.0.0   ) [CRAN]</span></span>
<span><span class="co">#&gt; commonmark (1.9.1  -&gt; 1.9.2   ) [CRAN]</span></span>
<span><span class="co">#&gt; crayon     (1.5.2  -&gt; 1.5.3   ) [CRAN]</span></span>
<span><span class="co">#&gt; data.table (1.15.4 -&gt; 1.16.2  ) [CRAN]</span></span>
<span><span class="co">#&gt; Installing 15 packages: fs, digest, Rcpp, tinytex, xfun, highr, evaluate, rmarkdown, knitr, sys, askpass, curl, commonmark, crayon, data.table</span></span>
<span><span class="co">#&gt; Installing packages into '/private/var/folders/mv/bhgkq2ns75sf84kzz32njn980000gn/T/RtmpiPPyeU/temp_libpath7db13cdb7ce2'</span></span>
<span><span class="co">#&gt; (as 'lib' is unspecified)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The downloaded binary packages are in</span></span>
<span><span class="co">#&gt;  /var/folders/mv/bhgkq2ns75sf84kzz32njn980000gn/T//RtmpnLJDj8/downloaded_packages</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="color: #00BBBB;">R CMD build</span> <span style="color: #00BBBB;">─────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; * checking for file ‘/private/var/folders/mv/bhgkq2ns75sf84kzz32njn980000gn/T/RtmpnLJDj8/remotes81c0c51d421/ETC5523-2024-assignment-4-packages-and-shiny-apps-praj0022-1782c45/DESCRIPTION’ ... OK</span></span>
<span><span class="co">#&gt; * preparing ‘copingmethods’:</span></span>
<span><span class="co">#&gt; * checking DESCRIPTION meta-information ... OK</span></span>
<span><span class="co">#&gt; * checking for LF line-endings in source and make files and shell scripts</span></span>
<span><span class="co">#&gt; * checking for empty or unneeded directories</span></span>
<span><span class="co">#&gt;   NB: this package now depends on R (&gt;= 3.5.0)</span></span>
<span><span class="co">#&gt;   WARNING: Added dependency on R &gt;= 3.5.0 because serialized objects in</span></span>
<span><span class="co">#&gt;   serialize/load version 3 cannot be read in older versions of R.</span></span>
<span><span class="co">#&gt;   File(s) containing such objects:</span></span>
<span><span class="co">#&gt;     ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-6_95e6411719133eace1c24e22ce2d5a3b.RData’</span></span>
<span><span class="co">#&gt;     ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-6_95e6411719133eace1c24e22ce2d5a3b.rdx’</span></span>
<span><span class="co">#&gt;     ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-7_22675ec2b2a618749ddd61a70ef1e549.RData’</span></span>
<span><span class="co">#&gt;     ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-7_22675ec2b2a618749ddd61a70ef1e549.rdx’</span></span>
<span><span class="co">#&gt; * building ‘copingmethods_1.0.0.tar.gz’</span></span>
<span><span class="co">#&gt; Warning in utils::tar(filepath, pkgname, compression = compression, compression_level = 9L,  :</span></span>
<span><span class="co">#&gt;   storing paths of more than 100 bytes is not portable:</span></span>
<span><span class="co">#&gt;   ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-6_95e6411719133eace1c24e22ce2d5a3b.RData’</span></span>
<span><span class="co">#&gt; Warning in utils::tar(filepath, pkgname, compression = compression, compression_level = 9L,  :</span></span>
<span><span class="co">#&gt;   storing paths of more than 100 bytes is not portable:</span></span>
<span><span class="co">#&gt;   ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-6_95e6411719133eace1c24e22ce2d5a3b.rdb’</span></span>
<span><span class="co">#&gt; Warning in utils::tar(filepath, pkgname, compression = compression, compression_level = 9L,  :</span></span>
<span><span class="co">#&gt;   storing paths of more than 100 bytes is not portable:</span></span>
<span><span class="co">#&gt;   ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-6_95e6411719133eace1c24e22ce2d5a3b.rdx’</span></span>
<span><span class="co">#&gt; Warning in utils::tar(filepath, pkgname, compression = compression, compression_level = 9L,  :</span></span>
<span><span class="co">#&gt;   storing paths of more than 100 bytes is not portable:</span></span>
<span><span class="co">#&gt;   ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-7_22675ec2b2a618749ddd61a70ef1e549.RData’</span></span>
<span><span class="co">#&gt; Warning in utils::tar(filepath, pkgname, compression = compression, compression_level = 9L,  :</span></span>
<span><span class="co">#&gt;   storing paths of more than 100 bytes is not portable:</span></span>
<span><span class="co">#&gt;   ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-7_22675ec2b2a618749ddd61a70ef1e549.rdb’</span></span>
<span><span class="co">#&gt; Warning in utils::tar(filepath, pkgname, compression = compression, compression_level = 9L,  :</span></span>
<span><span class="co">#&gt;   storing paths of more than 100 bytes is not portable:</span></span>
<span><span class="co">#&gt;   ‘copingmethods/vignettes/copingmethods_cache/html/unnamed-chunk-7_22675ec2b2a618749ddd61a70ef1e549.rdx’</span></span>
<span><span class="co">#&gt; Installing package into '/private/var/folders/mv/bhgkq2ns75sf84kzz32njn980000gn/T/RtmpiPPyeU/temp_libpath7db13cdb7ce2'</span></span>
<span><span class="co">#&gt; (as 'lib' is unspecified)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="load-the-package">Load the package<a class="anchor" aria-label="anchor" href="#load-the-package"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">copingmethods</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="datasets-included-in-the-package">Datasets Included in the Package<a class="anchor" aria-label="anchor" href="#datasets-included-in-the-package"></a>
</h2>
<p>The copingmethods package includes two datasets:</p>
<p><strong>depression_age</strong>: This dataset provides annual data on
depression rates for different age groups across countries, from 1990 to
2019. It allows for an analysis of trends in age-specific depression
rates over time.</p>
<p><strong>percent_copingmethods</strong>: This dataset contains
information on the percentage usage of various coping methods reported
by individuals across countries, specifically for the year 2020. This
data is useful for comparing how different countries approach mental
health management. Example: Loading and Exploring the Datasets You can
preview the structure of these datasets as follows:</p>
<div class="section level4">
<h4 id="view-the-first-few-rows-of-the-depression_age-dataset">View the first few rows of the depression_age dataset<a class="anchor" aria-label="anchor" href="#view-the-first-few-rows-of-the-depression_age-dataset"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">depression_age</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;        Entity Code Year  Age_5_14 Age_15_19 Age_20_24 Age_25_29 Age_30_34</span></span>
<span><span class="co">#&gt; 1 Afghanistan  AFG 1990 0.9059628  4.347563  6.074801  6.706133  7.296537</span></span>
<span><span class="co">#&gt; 2 Afghanistan  AFG 1991 0.8796905  4.309884  6.051823  6.645131  7.276406</span></span>
<span><span class="co">#&gt;   Age_35_39 Age_40_44 Age_45_49 Age_50_54 Age_55_59 Age_60_64 Age_65_69</span></span>
<span><span class="co">#&gt; 1  8.066108  8.366741  7.965051  7.506240  7.047010  6.614255  6.235099</span></span>
<span><span class="co">#&gt; 2  8.080511  8.417283  7.970613  7.518521  7.069068  6.611909  6.224764</span></span>
<span><span class="co">#&gt;     Age_70 All_Ages Age_Standardised</span></span>
<span><span class="co">#&gt; 1 5.584506 3.851845         4.996118</span></span>
<span><span class="co">#&gt; 2 5.582696 3.804602         4.989290</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="view-the-first-few-rows-of-the-percent_copingmethods-dataset">View the first few rows of the percent_copingmethods dataset<a class="anchor" aria-label="anchor" href="#view-the-first-few-rows-of-the-percent_copingmethods-dataset"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">percent_copingmethods</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Entity Code Year Religious spiritual activities</span></span>
<span><span class="co">#&gt; 1  Africa      2020                       63.71511</span></span>
<span><span class="co">#&gt; 2 Albania  ALB 2020                       36.17760</span></span>
<span><span class="co">#&gt;   Improved healthy lifestyle behaviors Made a change to work situation</span></span>
<span><span class="co">#&gt; 1                             66.22646                        47.92869</span></span>
<span><span class="co">#&gt; 2                             67.71693                        39.66084</span></span>
<span><span class="co">#&gt;   Made a change to personal relationships Talked to friends or family</span></span>
<span><span class="co">#&gt; 1                                63.70457                    79.29015</span></span>
<span><span class="co">#&gt; 2                                54.19250                    86.52499</span></span>
<span><span class="co">#&gt;   Took prescribed medication Spent time in nature</span></span>
<span><span class="co">#&gt; 1                   39.97995             55.85796</span></span>
<span><span class="co">#&gt; 2                   40.89743             88.64183</span></span>
<span><span class="co">#&gt;   Talked to mental health professional</span></span>
<span><span class="co">#&gt; 1                             25.93776</span></span>
<span><span class="co">#&gt; 2                             34.49906</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="depression_age-dataset-structure">
<em>depression_age</em> Dataset Structure<a class="anchor" aria-label="anchor" href="#depression_age-dataset-structure"></a>
</h4>
<p>The depression_age dataset includes the following columns:</p>
<ul>
<li>
<em>Entity</em>: The country or region where the data was
collected.</li>
<li>
<em>Code</em>: Country Code.</li>
<li>
<em>Year</em>: The year the data was collected.</li>
<li>
<em>Age Groups (e.g., Age_5_14, Age_15_19, etc.)</em>: The
percentage of people in each age group who reported experiencing
depression.</li>
</ul>
<p>Each row represents the depression percentages for various age groups
in a given country and year.</p>
</div>
<div class="section level4">
<h4 id="example-usage">Example Usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h4>
<p>To see the depression rates for a specific country and year:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for data from Andorra in 2019</span></span>
<span><span class="va">andorra_2019</span> <span class="op">&lt;-</span> <span class="va">depression_age</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Entity</span> <span class="op">==</span> <span class="st">"Andorra"</span>, <span class="va">Year</span> <span class="op">==</span> <span class="st">"2019"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">andorra_2019</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Entity Code Year  Age_5_14 Age_15_19 Age_20_24 Age_25_29 Age_30_34 Age_35_39</span></span>
<span><span class="co">#&gt; 1 Andorra  AND 2019 0.9819055  3.591458   4.43514  4.594962  4.751013   5.09585</span></span>
<span><span class="co">#&gt;   Age_40_44 Age_45_49 Age_50_54 Age_55_59 Age_60_64 Age_65_69   Age_70 All_Ages</span></span>
<span><span class="co">#&gt; 1  5.248908  5.268317  5.307462  5.326445  5.280425  5.142392 4.900389 4.434062</span></span>
<span><span class="co">#&gt;   Age_Standardised</span></span>
<span><span class="co">#&gt; 1         3.607207</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="percent_copingmethods-dataset-structure">
<em>percent_copingmethods</em> Dataset Structure<a class="anchor" aria-label="anchor" href="#percent_copingmethods-dataset-structure"></a>
</h4>
<p>The percent_copingmethods dataset contains the following columns:</p>
<ul>
<li>
<em>Entity</em>: The country or region where the data was
collected.</li>
<li>
<em>Code</em>: Country code.</li>
<li>
<em>Year</em>: The year of data collection (2020).</li>
<li>
<em>Coping Method Columns (e.g., Religious spiritual activities,
Improved healthy lifestyle behaviors, etc.)</em>: The percentage of
respondents who reported using each coping method.</li>
</ul>
<p>Each row represents the percentage usage of different coping methods
in a given country.</p>
</div>
<div class="section level4">
<h4 id="example-usage-1">Example Usage<a class="anchor" aria-label="anchor" href="#example-usage-1"></a>
</h4>
<p>To see the top coping methods used in a specific country, such as
Brazil:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for Brazil in 2020</span></span>
<span><span class="va">brazil_coping</span> <span class="op">&lt;-</span> <span class="va">percent_copingmethods</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Entity</span> <span class="op">==</span> <span class="st">"Brazil"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">brazil_coping</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Entity Code Year Religious spiritual activities</span></span>
<span><span class="co">#&gt; 1 Brazil  BRA 2020                       53.72946</span></span>
<span><span class="co">#&gt;   Improved healthy lifestyle behaviors Made a change to work situation</span></span>
<span><span class="co">#&gt; 1                             72.57038                        51.04526</span></span>
<span><span class="co">#&gt;   Made a change to personal relationships Talked to friends or family</span></span>
<span><span class="co">#&gt; 1                                74.34573                    71.42405</span></span>
<span><span class="co">#&gt;   Took prescribed medication Spent time in nature</span></span>
<span><span class="co">#&gt; 1                   44.71939              64.1756</span></span>
<span><span class="co">#&gt;   Talked to mental health professional</span></span>
<span><span class="co">#&gt; 1                             46.25562</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="visualizing-top-coping-methods-using-ggplot2">Visualizing Top Coping Methods Using ggplot2<a class="anchor" aria-label="anchor" href="#visualizing-top-coping-methods-using-ggplot2"></a>
</h4>
<p>As an example, let’s create a plot that shows the top five entities
based on their use of “Religious spiritual activities” as a coping
method.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># `topfive` </span></span>
<span><span class="va">topfive</span> <span class="op">&lt;-</span> <span class="va">percent_copingmethods</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">`Religious spiritual activities`</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">topfive</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">Entity</span>, <span class="va">`Religious spiritual activities`</span><span class="op">)</span>, </span>
<span>                    y  <span class="op">=</span> <span class="va">`Religious spiritual activities`</span>, </span>
<span>                    color <span class="op">=</span> <span class="va">`Religious spiritual activities`</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html" class="external-link">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fl">0</span>, </span>
<span>                   yend <span class="op">=</span> <span class="va">`Religious spiritual activities`</span>,</span>
<span>                   x <span class="op">=</span> <span class="va">Entity</span>, </span>
<span>                   yend <span class="op">=</span> <span class="va">Entity</span><span class="op">)</span>, </span>
<span>               linewidth <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span>          <span class="co"># Line from y-axis to point</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span> <span class="op">+</span>                <span class="co"># Point at the end of each line</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">`Religious spiritual activities`</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>, </span>
<span>            hjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>, size <span class="op">=</span> <span class="fl">4.8</span><span class="op">)</span> <span class="op">+</span>                   </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html" class="external-link">scale_color_gradient</a></span><span class="op">(</span>low <span class="op">=</span> <span class="st">"lightblue"</span>, high <span class="op">=</span> <span class="st">"darkblue"</span><span class="op">)</span> <span class="op">+</span>  <span class="co"># Gradient from light to dark blue</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Religious Spiritual Activities (%)"</span>, </span>
<span>       x <span class="op">=</span> <span class="st">"Entity"</span>, </span>
<span>       title <span class="op">=</span> <span class="st">"Top 5 Entities by Religious/Spiritual Activities"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span>, size <span class="op">=</span> <span class="fl">24</span> <span class="op">)</span>,     <span class="co"># Center and resize title</span></span>
<span>    axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">22</span><span class="op">)</span>,                <span class="co"># Adjust x-axis label size</span></span>
<span>    axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">22</span><span class="op">)</span>,                <span class="co"># Adjust y-axis label size</span></span>
<span>    axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,                  <span class="co"># Adjust x-axis text size</span></span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>                   <span class="co"># Adjust y-axis text size</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Duplicated aesthetics after name standardisation: <span style="color: #00BB00;">yend</span></span></span>
<span><span class="co">#&gt; Duplicated aesthetics after name standardisation: <span style="color: #00BB00;">yend</span></span></span></code></pre></div>
<p><img src="copingmethods_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<p>This plot shows the top five entities that reported the highest
percentages for “Religious spiritual activities” as a coping mechanism.
Each bar represents an entity, with a gradient color indicating the
level of usage.</p>
</div>
</div>
<div class="section level2">
<h2 id="launching-the-interactive-shiny-app-with-launch_copingmethods">Launching the Interactive Shiny App with launch_copingmethods()<a class="anchor" aria-label="anchor" href="#launching-the-interactive-shiny-app-with-launch_copingmethods"></a>
</h2>
<p>The copingmethods package provides an interactive Shiny application
to help users explore mental health trends. The app can be launched
using the launch_copingmethods() function, which opens a user-friendly
interface to visualize and compare data.</p>
<p><strong>Function Description</strong>: launch_copingmethods()</p>
<p>The launch_copingmethods() function starts the Shiny app included in
the package. The app provides interactive visualizations of mental
health trends, allowing users to analyze depression rates across age
groups and compare coping methods used by different countries.</p>
<p><strong>Arguments</strong>: This function takes no arguments.</p>
<p><strong>Return Value</strong>: The function does not return a value
but instead launches the Shiny app in your default web browser.</p>
<p>Example Usage:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Launch the Shiny app to explore the datasets interactively</span></span>
<span><span class="fu"><a href="../reference/launch_copingmethods.html">launch_copingmethods</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="app-features">App Features<a class="anchor" aria-label="anchor" href="#app-features"></a>
</h2>
<p>The app has two main sections for analyzing data:</p>
<p><strong>1. Depression by Age Analysis</strong></p>
<p>In this section, you can view depression rates across different age
groups in a selected country and compare rates between two years.</p>
<p>Steps to Use the Depression by Age Analysis:</p>
<ul>
<li>Select the “Depression by Age” option under “Select Analysis
Type”.</li>
<li>Choose a Country/Entity from the dropdown list.</li>
<li>(Optional) Check “Show Average for All Entities” to display a dashed
line representing the average depression rate across all countries in
the selected year.</li>
<li>Use the Year slider to select two years for comparison.</li>
</ul>
<p><strong>Outputs:</strong></p>
<ul>
<li>
<em>Bar Chart</em>: A bar chart displays depression percentages for
each age group in the selected country and year. If “Show Average” is
selected, a dashed line shows the average rate.</li>
<li>
<em>Difference Table</em>: A table shows the change in depression
percentage for each age group from the start year to the selected
year.</li>
</ul>
<p><strong>2. Coping Methods Comparison</strong></p>
<p>This section allows you to compare the top coping methods between two
countries.</p>
<p>Steps to Use the Coping Methods Comparison:</p>
<ul>
<li>Select the “Coping Methods Comparison” option under “Select Analysis
Type”.</li>
<li>Choose two Countries to compare (or choose “None” for one to view
data for only one country).</li>
<li>Adjust the Number of Top Coping Methods to display between 1 and
8.</li>
</ul>
<p><strong>Outputs:</strong></p>
<ul>
<li>
<em>Bar Chart</em>: A bar chart showing the top coping methods for
the selected countries, allowing visual comparison.</li>
</ul>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<p>If you encounter issues while using the <code>copingmethods</code>
package or launching the Shiny app, the following tips may help resolve
common problems.</p>
<p><strong>1. Shiny App Does Not Launch with
launch_copingmethods()</strong></p>
<p>Problem: When running launch_copingmethods(), the app does not open,
and you may see an error message like:</p>
<p><em>“Could not find the Shiny app directory. Try re-installing
copingmethods.”</em></p>
<p><strong>Solution:</strong></p>
<p>Ensure the copingmethods package is correctly installed. Try
reinstalling the package if necessary:</p>
<p><strong>Reinstall copingmethods package</strong></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reinstall copingmethods package</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ETC5523-2024/assignment-4-packages-and-shiny-apps-praj0022"</span><span class="op">)</span></span></code></pre></div>
<p>Verify that your copingmethods package installation includes the
Shiny app files. If the problem persists, consider re-installing the
package and check for any installation errors.</p>
<p><strong>2. Error: “object not found” for depression_age or
percent_copingmethods</strong></p>
<p>Problem: You may encounter errors related to
<code>depression_age</code> or <code>percent_copingmethods</code> not
being found when running examples or visualizations.</p>
<p><strong>Solution:</strong></p>
<p>Ensure that the datasets are loaded correctly from the package. The
datasets should be accessed directly from the copingmethods package
namespace:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">copingmethods</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"depression_age"</span>, package <span class="op">=</span> <span class="st">"copingmethods"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"percent_copingmethods"</span>, package <span class="op">=</span> <span class="st">"copingmethods"</span><span class="op">)</span></span></code></pre></div>
<p>If this does not resolve the issue, re-install the package, as the
data files might be missing or corrupted.</p>
<p><strong>3. Warning: “The value argument of names&lt;-() must have the
same length as x”</strong></p>
<p>Problem: This warning might appear when manipulating datasets with
the names() function in dplyr or tidyverse.</p>
<p><strong>Solution:</strong></p>
<p>This warning indicates a mismatch in the length of names being
assigned to a data frame or vector. Check your code for assignments
where <code><a href="https://rdrr.io/r/base/names.html" class="external-link">names()</a></code> or column renaming is performed, ensuring the
number of names matches the columns or values.</p>
<p><strong>4. Shiny App Display Issues or Layout Problems</strong></p>
<p>Problem: The app layout may look misaligned, or components may not
render correctly, especially if you see warnings about bs_theme or other
layout settings.</p>
<p><strong>Solution:</strong></p>
<p>Try clearing your browser cache or opening the app in a different
browser. Occasionally, old cached styles can interfere with the display
of updated content.</p>
<p>If layout issues persist, try running <code>runApp()</code> in
RStudio with a clean session:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">copingmethods</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/launch_copingmethods.html">launch_copingmethods</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>5. Error Messages in ggplot2 or plotly
Visualizations</strong></p>
<p>Problem: Errors related to visualizations, such as “object not found”
or unexpected behaviors in the plot.</p>
<p><strong>Solution:</strong></p>
<p>Double-check that the necessary libraries (ggplot2, plotly, etc.) are
loaded. If the problem is specific to the Shiny app, ensure that the
latest versions of these libraries are installed.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ggplot2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"plotly"</span><span class="op">)</span></span></code></pre></div>
<p>Inspect any <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> or <code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer()</a></code>
steps in the code to ensure the correct variable names and data
structures are used. Errors often occur if columns referenced in the
code don’t match the dataset.</p>
<p><strong>6. Issues with bslib or bs_theme Settings</strong></p>
<p>Problem: Theme issues, such as font not displaying or color themes
not applying correctly, can arise from <code>bslib</code>.</p>
<p><strong>Solution:</strong></p>
<p>Make sure <code>bslib</code> is installed and updated. You can
install or update it using:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"bslib"</span><span class="op">)</span></span></code></pre></div>
<p>If the theme still does not apply correctly, try adjusting theme
settings in your code and ensuring the required fonts are available.
Some fonts may require an active internet connection to load
correctly.</p>
<p>If you continue to experience issues after trying these solutions,
consult the documentation for shiny, ggplot2, or other relevant
packages, or seek help from the R community on forums like Stack
Overflow or RStudio Community.</p>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This guide provides an overview of the functionalities in the
<code>copingmethods</code> package, including dataset exploration,
plotting examples, and an interactive Shiny app for comprehensive mental
health data analysis. Users can visualize and compare coping methods and
depression trends across various age groups and countries, making it a
valuable tool for exploring global mental health trends. Additionally, a
troubleshooting section is included to address common installation,
loading, and visualization issues, ensuring a smooth experience while
using the package.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pooja Rajendran Raju.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
